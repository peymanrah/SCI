# Ablation: No Causal Binding Mechanism
# Tests: Is the binding mechanism necessary?
# Expected: Structure learned but not effectively used

seed: 42

model:
  base_model: "TinyLlama/TinyLlama-1.1B-Chat-v1.0"

  structural_encoder:
    enabled: true
    num_slots: 8
    abstraction_layer:
      injection_layers: [3, 6, 9]

  content_encoder:
    enabled: true
    num_layers: 2

  causal_binding:
    enabled: false  # DISABLED

training:
  dataset: "scan"
  split: "length"
  batch_size: 32
  max_epochs: 50
  learning_rate: 2e-5
  sci_learning_rate: 5e-5  # ADDED
  fp16: true
  checkpoint_dir: "checkpoints/ablation_no_cbm"

loss:
  lm_weight: 1.0
  scl_weight: 0.3
  ortho_weight: 0.1  # FIXED

evaluation:
  batch_size: 64
  max_generation_length: 300  # ADDED
  num_beams: 1
  do_sample: false
  repetition_penalty: 1.0
  length_penalty: 1.0
  datasets:
    - {name: "scan", split: "length", subset: "test"}

logging:
  wandb_project: "SCI-Nature"
  wandb_tags: ["ablation", "no_causal_binding"]
  log_dir: "logs/ablation_no_cbm"

expected_results:
  scan_length_ood: 0.50  # Structure learned but not used
